<div class="full-program">
	<mat-toolbar class="full-program__toolbar">
		<span>{{'Program' | translate}}</span>

		<button mat-icon-button
			aria-label="Filter events"
			(click)="scrollToNow()">
			<mat-icon>gps_fixed</mat-icon>
		</button>

		<div class="full-program__toolbar__actions">
			<app-user-info></app-user-info>

			<button mat-icon-button
				aria-label="Filter events"
				(click)="showFilters()">
				<mat-icon>filter_list</mat-icon>
			</button>

			<button mat-icon-button
				aria-label="Search events"
				(click)="showEventList()">
				<mat-icon>search</mat-icon>
			</button>

			<button mat-icon-button
				(click)="toggleSecondaryToolbar()"
				aria-label="More actions">
				<mat-icon>more_vert</mat-icon>
			</button>
		</div>
	</mat-toolbar>

	<div #secondaryToolbar class="full-program__secondary-toolbar">
		<mat-toolbar>
			<div class="full-program__secondary-toolbar__actions">
				<app-language-menu></app-language-menu>

				<button mat-icon-button
					aria-label="Filter events"
					(click)="exportFavorites()">
					<mat-icon>import_export</mat-icon>
				</button>

				<button mat-icon-button
					aria-label="Filter events"
					(click)="toggleEventDetails()">
					<mat-icon>{{ programService.showEventDetails ? 'info' : 'info_outline' }}</mat-icon>
				</button>

			</div>
		</mat-toolbar>
	</div>

	<app-list-day-select [days]="days"
		[selectedDay]="selectedDay"
		(selectedDayChange)="selectedDay = $event">
	</app-list-day-select>

	<div class="full-program__list" #programList>
		<div class="list-horizontal"
			*ngIf="allSegments.length > 0; else noEvents"
			[style.width]="allSegments.length * FullProgramConfig.segmentWidth + 'px'"
		>
			<app-list-timeline
				[segments]="allSegments"
				[parentContainer]="programList"
			></app-list-timeline>

			<div class="list-events">
				<div class="list-events__place"
					*ngFor="let place of places"
				>
					<app-list-place [place]="place"
						[events]="eventsByPlaces[place.id]"
						[segments]="allSegments"
						(placeSelect)="showEventDetail($event)"
					>
					</app-list-place>
				</div>
			</div>
		</div>
	</div>

	<ng-template #noEvents>
		<div class="full-program__no-events">
			<h2>{{'Dnes tu není žádná akce' | translate}}</h2>
			<h4>{{'Zkontrolujte nastavení filtrů' | translate}}</h4>
		</div>
	</ng-template>
</div>
